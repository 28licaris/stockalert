┌─────────────────────────────────────────────────────────┐
│                    Your System                          │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  Production (Live Trading):                             │
│  ├─ MonitorService ✅ (Always running)                  │
│  ├─ REST API ✅ (For control)                           │
│  └─ WebSocket ✅ (For alerts)                           │
│                                                         │
│  Development Tools (Optional):                          │
│  ├─ backfill.py 🔬 (Test strategies)                   │
│  ├─ backtest_service.py 📊 (Calculate returns)         │
│  └─ test scripts 🧪 (Verify functionality)             │
│                                                         │
└─────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────┐
│                        Paper Trading System                      │
└─────────────────────────────────────────────────────────────────┘

┌──────────────────┐
│  Strategy Layer  │  ← Future: LLM can plug in here
├──────────────────┤
│ - RSI Divergence │
│ - MACD Crossover │
│ - TSI Momentum   │
│ - LLM Strategy   │  ← Future addition
└────────┬─────────┘
         │ Emits: Signal(symbol, type, timestamp)
         ↓
┌──────────────────┐
│  Signal Router   │  ← Decides which signals to act on
├──────────────────┤
│ - Filter rules   │
│ - Risk checks    │
│ - Position sizing│
└────────┬─────────┘
         │ Emits: Order(symbol, side, qty, price)
         ↓
┌──────────────────┐
│ Order Manager    │  ← Simulates order execution
├──────────────────┤
│ - Market orders  │
│ - Limit orders   │
│ - Fill simulation│
│ - Slippage model │
└────────┬─────────┘
         │ Emits: Fill(order_id, fill_price, fill_qty)
         ↓
┌──────────────────┐
│ Portfolio Manager│  ← Tracks positions & P&L
├──────────────────┤
│ - Positions      │
│ - Cash balance   │
│ - Equity curve   │
│ - Performance    │
└────────┬─────────┘
         │ Stores to Database
         ↓
┌──────────────────┐
│   Database       │
├──────────────────┤
│ - Signals        │  ← Already exists
│ - PaperTrades    │  ← New table
│ - PaperPositions │  ← New table
│ - PaperPortfolio │  ← New table
└──────────────────┘